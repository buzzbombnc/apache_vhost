---
- hosts: localhost
  vars:
    vhost_ip: "*"
    vhost_port: 80
    vhost_admin: "blah@blah.com"
    vhost_name: blah.com
    vhost_aliases:
      - www.blah.com
      - blah.blah.com
    vhost_type: wsgi
    vhost_docroot: /srv/httpd/test.com/current
    vhost_modules:
      - module: wsgi_module
        filename: lib64/httpd/modules/mod_wsgi.so
    vhost_locations:
      /server-status:
        SetHandler: server-status
        Require: "ip 127"
    vhost_directories:
      /var/www:
        Options: "Indexes"
        Require: "all granted"
    vhost_urlaliases:
      - urlpath: /meh
        path: /tmp
    vhost_extra_configs:
      - "Listen 8080"
  roles:
    - apache_vhost
